%YAML:1.0
---

# 有问题，fx fy应该等比例缩放才对 402.424242*0.8=321.94
intrinsic_left: !!opencv-matrix
   rows: 3
   cols: 3
   dt: d
   data: [ 321.94, 0., 160.0, 0.,
           321.94, 210.0, 0., 0., 1. ]
distCoeffs_left: !!opencv-matrix
   rows: 1
   cols: 5
   dt: d
   data: [ 0., 0., 0., 0., 0. ]
intrinsic_right: !!opencv-matrix
   rows: 3
   cols: 3
   dt: d
   data: [ 321.94, 0., 480.0, 0.,
           321.94, 210.0, 0., 0., 1. ]
distCoeffs_right: !!opencv-matrix
   rows: 1
   cols: 5
   dt: d
   data: [ 0., 0., 0., 0., 0. ]
R: !!opencv-matrix
   rows: 3
   cols: 3
   dt: d
   data: [ 1., 0., 0., 0., 1., 0., 0., 0., 1. ]
T: !!opencv-matrix
   rows: 3
   cols: 1
   dt: d
   data: [ -0.2, 0., 0. ]
R_L: !!opencv-matrix
   rows: 3
   cols: 3
   dt: d
   data: [ 1., 0., 0., 0., 1., 0., 0., 0., 1. ]
R_R: !!opencv-matrix
   rows: 3
   cols: 3
   dt: d
   data: [ 1., 0., 0., 0., 1., 0., 0., 0., 1. ]
P1: !!opencv-matrix
   rows: 3
   cols: 4
   dt: d
   data: [ 321.94, 0., 160.0, 0., 0.,
           321.94, 210.0, 0., 0., 0., 1., 0. ]
P2: !!opencv-matrix
   rows: 3
   cols: 4
   dt: d
   data: [ 321.94, 0., 480.0, -64.388, 0.,
           321.94, 210.0, 0., 0., 0., 1., 0. ]
Q: !!opencv-matrix
   rows: 4
   cols: 4
   dt: d
   data: [ 1., 0., 0., -160.0, 0., 1., 0., -210.0, 0., 0., 0., 321.94, 0., 0., -5, 0. ]
validROIL: [ 0, 0, 640, 480 ]
validROIR: [ 0, 0, 640, 480 ]
# 一个相机本身的内参和外参已知，相机是一个仿真环境的相机模型，因此知道其真实值，其为针孔相机模型，没有畸变，焦距fx=fy=402.424242，cx=480.0,cy=270.0，两相机平行放置，基线长度0.2m，图像大小960*540。现在对其得到的图像进行了上述处理，即：左目相机应该将左侧和上册多余的部分裁剪掉，右目将右侧和上侧多余的部分裁剪掉，裁剪后的图像大小为640*480，即将左目图像的左侧320列和上侧60列裁剪掉，将右目的右侧320列和上侧60列裁剪掉。将得到的这两个新图像视作一个新的双目相机得到的图像，问这个新的双目相机的内参外参是多少
# 新的内参计算如下：
#
#    焦距（fx, fy）： 裁剪和调整尺寸不会改变焦距，所以 fx 和 fy 保持为 402.424242。
#
#    主点（cx, cy）：
#        对于左相机，原始 cx 为 480，由于裁剪了左侧的320列，新的 cx = 原始 cx - 裁剪列数 = 480 - 320 = 160。同理，新的 cy = 原始 cy - 裁剪行数 = 270 - 60 = 210。
#        对于右相机，原始 cx 为 480，由于右侧320列被裁剪，图像宽度减少，但cx相对于裁剪后图像的位置保持不变，新的 cx = 160（和左相机相同）。同理，新的 cy = 210。
#
#因此，对于裁剪后的双目相机，内参为：
#
#    左右相机焦距（fx, fy）均为 402.424242。
#    左右相机主点（cx, cy）均为 (160, 210)。
#
#外参（相机之间的相对位置和姿态）保持不变

